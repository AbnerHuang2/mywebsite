<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="rgb(255,255,255)"><meta http-equiv=X-UA-Compatible content="ie=edge"><title>Redis分布式锁 &#183; Skitii</title>
<meta name=title content="Redis分布式锁 &#183; Skitii"><meta name=description content="回顾一下之前写的分布式锁的实现逻辑"><link rel=canonical href=https://skitii.vercel.app/posts/redis%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/><link type=text/css rel=stylesheet href=/css/main.bundle.min.a6debbb9c2752cfaaf987cbf5014fd1df44fb95b3494591ae67b7f8b99579a03.css integrity="sha256-pt67ucJ1LPqvmHy/UBT9HfRPuVs0lFka5nt/i5lXmgM="><script type=text/javascript src=/js/appearance.min.022d0ebc3b46a335eb1c7ef79b7f2de143d7cd5156d433638592ef1ce5f8554e.js integrity="sha256-Ai0OvDtGozXrHH73m38t4UPXzVFW1DNjhZLvHOX4VU4="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.0dcadb6ce89e2df1ab4711fe1face40764013a10cb7e9d6d9faa1dab782b693e.js integrity="sha256-DcrbbOieLfGrRxH+H6zkB2QBOhDLfp1tn6odq3graT4=" data-copy=Copy data-copied=Copied></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta name=google-site-verification content="PeC9Clz1swOOWEProA3d9p39srZKONgJreLma19x0Cc"><meta property="og:title" content="Redis分布式锁"><meta property="og:description" content="回顾一下之前写的分布式锁的实现逻辑"><meta property="og:type" content="article"><meta property="og:url" content="https://skitii.vercel.app/posts/redis%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-27T09:30:31+00:00"><meta property="article:modified_time" content="2022-04-27T09:30:31+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Redis分布式锁"><meta name=twitter:description content="回顾一下之前写的分布式锁的实现逻辑"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"","name":"Redis分布式锁","headline":"Redis分布式锁","description":"回顾一下之前写的分布式锁的实现逻辑","inLanguage":"en","url":"https:\/\/skitii.vercel.app\/posts\/redis%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81\/","author":{"@type":"Person","name":"Skitii"},"copyrightYear":"2022","dateCreated":"2022-04-27T09:30:31\u002b00:00","datePublished":"2022-04-27T09:30:31\u002b00:00","dateModified":"2022-04-27T09:30:31\u002b00:00","keywords":["分布式锁"],"mainEntityOfPage":"true","wordCount":"1881"}]</script><meta name=author content="Skitii"></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold pe-2 text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral print:hidden sm:py-10"><nav class="flex items-start justify-between sm:items-center"><div class="flex flex-row items-center"><a href=/ class=mr-2><img src=/img/octopus.png width=64 height=64 class="max-h-[10rem] max-w-[10rem] object-scale-down object-left hidden dark:flex" alt=Skitii loading=lazy>
<img src=/img/octopus.png width=64 height=64 class="max-h-[10rem] max-w-[10rem] object-scale-down object-left dark:hidden" alt=Skitii loading=lazy></a></div><ul class="flex list-none flex-col ltr:text-right rtl:text-left sm:flex-row"><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/posts/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Blog</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/categories/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Categories</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/tags/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Tags</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><button id=search-button-m0 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="relative inline-block align-text-bottom px-1 icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></span></button></li></ul></nav></header><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header class=max-w-prose><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/></a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/posts/>posts</a><span class="px-1 text-primary-500">/</span></li><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/posts/redis%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/>Redis分布式锁</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Redis分布式锁</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center">&lt;time datetime="2022-04-27 09:30:31 &amp;#43;0000 UTC">27 April 2022&lt;/time>&lt;span class="px-2 text-primary-500">&amp;middot;&lt;/span>&lt;span>1881 words&lt;/span>&lt;span class="px-2 text-primary-500">&amp;middot;&lt;/span>&lt;span title="Reading time">4 mins&lt;/span></div><div class="my-1 text-xs leading-relaxed text-neutral-500 dark:text-neutral-400"><a href=/categories/redis/ class="rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Redis</a>
<a href=/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/ class="rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">分布式锁</a></div></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="min-w-0 min-h-0 max-w-prose grow"><meta name=referrer content="no-referrer"><h1 id=认识分布式锁 class="relative group">认识分布式锁</h1><p>Distributed locks are a very useful primitive in many environments where different processes must operate with shared resources in a mutually exclusive way.
分布式锁是在分布式环境中保证不同的进程以相互独立的方式操作共享资源的一种实现方式。（说白了，分布式锁就是在分布式环境下实现进程同步操作共享资源的方式）
和本地锁（synchronized,reentrantlock）相比，分布式锁有什么不一样的地方呢？
场景不同，分布式场景。</p><h1 id=分布式锁特性 class="relative group">分布式锁特性</h1><ol><li>安全性：相互独立，任何情况下，只能有一个客户端持有锁</li><li>死锁释放：即使持有锁的客户端宕机了，其他客户端最终总能获取锁。</li><li>容错性：只要大多数的Redis节点无故障，客户端总能获取锁和释放锁。</li></ol><h1 id=分布式锁的实现原理 class="relative group">分布式锁的实现原理</h1><p>锁主要需要解决的问题</p><ol><li>互斥访问</li><li>死锁问题</li><li>可重入</li><li>阻塞等待</li></ol><p>Redis分布式锁是怎么做的呢？
其实就一条语句
SET resource_name my_random_value NX PX 30000
当客户端需要获取锁时，就往redis发送上面的语句，如果resource_name这个key已经存在了，就无法插入到redis中，也就无法获取锁。
如果没有，就将 resource_name -> my_random_value 设置到redis中。当其他客户端也想访问该资源时，就不能访问了，这就解决了互斥访问问题。
那客户端在处理业务的情况下宕机了怎么办，由于redis自带的失效时间处理，就很好的解决了死锁问题。
那客户端获取到了锁，在执行业务的时候，又有个地方要获取该资源的锁，怎么办呢？我们可以看看redission是怎么处理的。
那如果客户端没获取到锁，想一直等待锁呢？</p><p>可能遇到的问题
1.执行过程中，锁的失效时间到期了怎么办？redission设置了一个定时器，每到失效时间的1/3，如果业务还没执行完，就刷新失效时间。
2.为什么要设置唯一的value？防止别人误解锁。设置唯一的value，只有加锁的人才能解锁。
3.设置过程中master节点宕机了怎么办？</p><h1 id=redisson实现分布式锁源码分析 class="relative group">Redisson实现分布式锁源码分析</h1><p>redission分布式锁的使用
1.引入依赖
<dependency><groupid>org.redisson</groupid> <artifactid>redisson</artifactid> <version>3.13.5</version> </dependency>2.配置
单机配置
config.useSingleServers().addAdress(&ldquo;redis://127.0.0.1:6379&rdquo;);
集群配置
config.useClusterServers().addAdress(&ldquo;redis://127.0.0.1:6379&rdquo;).addAdress(&ldquo;redis://127.0.0.1:6380&rdquo;);
3.使用
RLock lock = redissionClient.getLock(random_key);
lock.lock();
lock.unLock();</p><p>过程分析
加锁<figure><div class=post-img-view><a data-fancybox=gallery href="https://cdn.nlark.com/yuque/0/2022/png/21760570/1650869288591-477858f4-5170-45c4-a427-709cf505fa5d.png#clientId=ue8d70bce-cde0-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=738&amp;id=u500182bc&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=738&amp;originWidth=1545&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=283038&amp;status=done&amp;style=none&amp;taskId=ucec26631-0c24-48f1-883c-2d9ed6d6575&amp;title=&amp;width=1545"><img class="my-0 rounded-md" src="https://cdn.nlark.com/yuque/0/2022/png/21760570/1650869288591-477858f4-5170-45c4-a427-709cf505fa5d.png#clientId=ue8d70bce-cde0-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=738&amp;id=u500182bc&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=738&amp;originWidth=1545&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=283038&amp;status=done&amp;style=none&amp;taskId=ucec26631-0c24-48f1-883c-2d9ed6d6575&amp;title=&amp;width=1545" alt=image.png></a></div></figure></p><p>解锁</p><p><figure><div class=post-img-view><a data-fancybox=gallery href="https://cdn.nlark.com/yuque/0/2022/png/21760570/1650869302380-d4194ad9-65f8-46b3-a22f-e681c1864645.png#clientId=ue8d70bce-cde0-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=330&amp;id=u79eded21&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=330&amp;originWidth=1411&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=31509&amp;status=done&amp;style=none&amp;taskId=u739d4845-578e-4dc7-9eff-3eec55ec5af&amp;title=&amp;width=1411"><img class="my-0 rounded-md" src="https://cdn.nlark.com/yuque/0/2022/png/21760570/1650869302380-d4194ad9-65f8-46b3-a22f-e681c1864645.png#clientId=ue8d70bce-cde0-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=330&amp;id=u79eded21&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=330&amp;originWidth=1411&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=31509&amp;status=done&amp;style=none&amp;taskId=u739d4845-578e-4dc7-9eff-3eec55ec5af&amp;title=&amp;width=1411" alt=image.png></a></div></figure></p><h1 id=redisson架构 class="relative group">Redisson架构</h1><p><figure><div class=post-img-view><a data-fancybox=gallery href="https://cdn.nlark.com/yuque/0/2022/png/21760570/1650869332933-e9edfae9-9676-4074-a323-94873d536e1f.png#clientId=ue8d70bce-cde0-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=1079&amp;id=ue8a7b0c3&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1079&amp;originWidth=1085&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=127331&amp;status=done&amp;style=none&amp;taskId=ub5eca672-9f03-4503-aa2b-1080cb77258&amp;title=&amp;width=1085"><img class="my-0 rounded-md" src="https://cdn.nlark.com/yuque/0/2022/png/21760570/1650869332933-e9edfae9-9676-4074-a323-94873d536e1f.png#clientId=ue8d70bce-cde0-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=1079&amp;id=ue8a7b0c3&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1079&amp;originWidth=1085&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=127331&amp;status=done&amp;style=none&amp;taskId=ub5eca672-9f03-4503-aa2b-1080cb77258&amp;title=&amp;width=1085" alt=image.png></a></div></figure></p><h1 id=redlock算法分析 class="relative group">RedLock算法分析</h1><p>现在我们大概了解了一下redission的分布式锁实现，那么在集群模式下会不会有什么问题呢？
设想一个场景：</p><ol><li>客户端A从master获取到锁</li><li>在master将锁同步到slave之前，master宕掉了</li><li>slave节点被晋级为master节点</li><li>客户端B取得了同一个资源被客户端A已经获取到的另外一个锁。<strong>安全失效！</strong></li></ol><p>这个问题如何处理呢？</p><p><strong>RedLock算法</strong>
我们假设有5个Redis master节点，这是一个比较合理的设置，所以我们需要在5台机器上面或者5台虚拟机上面运行这些实例，这样保证他们不会同时都宕掉。
为了取到锁，客户端应该执行以下操作:</p><ol><li>获取当前Unix时间，以毫秒为单位。</li><li>依次尝试从N个实例，使用相同的key和随机值获取锁。在步骤2，当向Redis设置锁时,客户端应该设置一个网络连接和响应超时时间，这个超时时间应该小于锁的失效时间。例如你的锁自动失效时间为10秒，则超时时间应该在5-50毫秒之间。这样可以避免服务器端Redis已经挂掉的情况下，客户端还在死死地等待响应结果。如果服务器端没有在规定时间内响应，客户端应该尽快尝试另外一个Redis实例。</li><li>客户端使用当前时间减去开始获取锁时间（步骤1记录的时间）就得到获取锁使用的时间。当且仅当从大多数（这里是3个节点）的Redis节点都取到锁，并且使用的时间小于锁失效时间时，锁才算获取成功。</li><li>如果取到了锁，key的真正有效时间等于有效时间减去获取锁所使用的时间（步骤3计算的结果）。</li><li>如果因为某些原因，获取锁失败（_没有_在至少N/2+1个Redis实例取到锁或者取锁时间已经超过了有效时间），客户端应该在所有的Redis实例上进行解锁（即便某些Redis实例根本就没有加锁成功）。</li></ol><p>锁真正的有效时间：MIN_VALIDITY = TTL - (T2 - T1) - CLOCK_DRIFT .
TTL：锁的失效时间
T1：第一个获取到锁的时间
T2: 最后一个获取到锁的时间
CLOCK_DRIFT:时钟漂移（每台计算机的时间可能不同，所以集群中不同节点的通信可能会产生时钟漂移),因为基本都是以客户端的时间频率进行前进的，所以时钟漂移基本可以忽略不计。</p><p>redission中RedLock实现<figure><div class=post-img-view><a data-fancybox=gallery href="https://cdn.nlark.com/yuque/0/2022/png/21760570/1650869362415-229602ad-ccbb-4bbe-bbe5-5fdbf24169a7.png#clientId=ue8d70bce-cde0-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=406&amp;id=u2e278575&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=406&amp;originWidth=491&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=61670&amp;status=done&amp;style=none&amp;taskId=u1276c3af-9287-4f42-9fce-d785b8962dd&amp;title=&amp;width=491"><img class="my-0 rounded-md" src="https://cdn.nlark.com/yuque/0/2022/png/21760570/1650869362415-229602ad-ccbb-4bbe-bbe5-5fdbf24169a7.png#clientId=ue8d70bce-cde0-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=406&amp;id=u2e278575&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=406&amp;originWidth=491&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=61670&amp;status=done&amp;style=none&amp;taskId=u1276c3af-9287-4f42-9fce-d785b8962dd&amp;title=&amp;width=491" alt=image.png></a></div></figure>但是有一个问题：这种操作不能保证每个锁都是发送到了不同的实例，如果所有的锁都在一个实例上，一样会遇到问题之前的问题。
于是，Redisson废弃了RedLock。Rlock的一些操作会直接同步到所有的slave节点。<figure><div class=post-img-view><a data-fancybox=gallery href="https://cdn.nlark.com/yuque/0/2022/png/21760570/1650869370736-73556b7b-7338-4ea2-9bf5-452ecbb2728c.png#clientId=ue8d70bce-cde0-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=86&amp;id=u263ea20a&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=86&amp;originWidth=610&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=11991&amp;status=done&amp;style=none&amp;taskId=uc4bc6b5c-4352-44a9-90fb-8450a166c3f&amp;title=&amp;width=610"><img class="my-0 rounded-md" src="https://cdn.nlark.com/yuque/0/2022/png/21760570/1650869370736-73556b7b-7338-4ea2-9bf5-452ecbb2728c.png#clientId=ue8d70bce-cde0-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=86&amp;id=u263ea20a&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=86&amp;originWidth=610&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=11991&amp;status=done&amp;style=none&amp;taskId=uc4bc6b5c-4352-44a9-90fb-8450a166c3f&amp;title=&amp;width=610" alt=image.png></a></div></figure>然后我就跑去测试了一下，经测试：
RLock操作会发送到每一个slave节点（Redisson只配master节点，slave节点也会收到）。</p></div></section><footer class="pt-8 max-w-prose print:hidden"><div class=flex><img class="!mb-0 !mt-0 me-4 h-24 w-24 rounded-full" width=96 height=96 alt=Skitii src=/img/donatello_hu71dba6f0b14209fcd6a03b819133ef67_44229_192x192_fill_box_center_3.png loading=lazy><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Skitii</div><div class="text-2xl sm:text-lg"></div></div></div><script src=https://utteranc.es/client.js repo=AbnerHuang2/mywebsite issue-term=pathname theme=gruvbox-dark crossorigin=anonymous async></script><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="group flex" href=/posts/spring%E7%9C%9F%E7%9A%84%E5%AE%8C%E5%85%A8%E8%A7%A3%E5%86%B3%E4%BA%86%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E5%90%97/><span class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&larr;</span><span class="ltr:hidden rtl:inline">&rarr;</span></span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Spring真的完全解决了循环依赖吗</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2022-06-20 17:51:15 +0000 UTC">20 June 2022</time>
</span></span></a></span><span><a class="group flex text-right" href=/posts/jstack%E5%88%86%E6%9E%90%E7%A5%9E%E5%99%A8/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Jstack分析神器</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2022-04-19 17:44:18 +0000 UTC">19 April 2022</time>
</span></span><span class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&rarr;</span><span class="ltr:hidden rtl:inline">&larr;</span></span></a></span></div></div></footer></article><div class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2024
Skitii</p></div><div class="text-sm cursor-pointer text-neutral-700 dark:text-neutral hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-14 rtl:ml-14"><button id=appearance-switcher class="w-12 h-12" type=button title="Switch to dark appearance">
<span class="inline dark:hidden"><span class="relative inline-block align-text-bottom px-1 icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg>
</span></span><span class="hidden dark:inline"><span class="relative inline-block align-text-bottom px-1 icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></span></button></div></div></footer><script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/live2d-widget@3.1.4/lib/L2Dwidget.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/live2d-widget@3.1.4/lib/L2Dwidget.0.min.js></script><script>(function(e,t,n){t.ChatraID="H8oixnws8SKYQkjBz";var s=e.createElement("script");t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},s.async=!0,s.src="https://call.chatra.io/chatra.js",e.head&&e.head.appendChild(s)})(document,window,"Chatra")</script><script type=text/javascript>L2Dwidget.init({model:{scale:1,hHeadPos:.5,vHeadPos:.618,jsonPath:"https://unpkg.com/live2d-widget-model-nito@1.0.5/assets/nito.model.json"},display:{superSample:1,width:120,height:300,position:"right",hOffset:20,vOffset:0},mobile:{show:!0,scale:1,motion:!0},react:{opacityDefault:.8,opacityOnHover:1}})</script><div id=search-wrapper class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://skitii.vercel.app/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative inline-block align-text-bottom px-1 icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative inline-block align-text-bottom px-1 icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>